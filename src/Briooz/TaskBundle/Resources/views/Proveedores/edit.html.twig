{% extends 'gentelella.html.twig' %}
{% block body %}
    <section id="breadcrumb-container">
        Administración » <a href="{{path('briooz_proveedor_index')}}">Proveedor</a> » <strong>Editar proveedor</strong>
    </section>
    <section id="titulo-container">
        <h2>Editar proveedor</h2>
    </section>
    <section>
        <div class="panel panel-primary">
            <div class="panel-heading"><i class="fas fa-edit"></i> <strong>Editar</strong></div>
            <div class="panel-body">
                <div class="row" style="margin-bottom: 5px;height:40px;">
                    <div class="col-xs-12 col-md-6">
                        <form action="{{path('briooz_proveedor_update')}}" method="POST" id="form">
                            <input type="hidden" name="id" id="id" value="{{proveedor.id}}"/>
                            <fieltset>
                                <div class="form-group">
                                    <label>(*) Código <i class="fas fa-sort-down"></i></label>
                                    <input type="text"  name="codigo" id="codigo" class="form-control" value="{{proveedor.codigo}}"/>
                                    <div class="text-danger msj-error-form hidden" id="error_codigo"><i class="fas fa-exclamation-triangle"></i> El campo no puede ser vacio</div>
                                </div>
                                <div class="form-group">
                                    <label>(*) Empresa <i class="fas fa-sort-down"></i></label>
                                    <input type="text"  name="empresa" id="empresa" class="form-control" value="{{proveedor.empresa}}"/>
                                    <div class="text-danger msj-error-form hidden" id="error_empresa"><i class="fas fa-exclamation-triangle"></i> El campo no puede ser vacio</div>
                                </div>
                                <div class="form-group">
                                    <label>Nombres <i class="fas fa-sort-down"></i></label>
                                    <input type="text"  name="nombres" id="nombres" class="form-control" value="{{proveedor.nombres}}"/>
                                </div>
                                <div class="form-group">
                                    <label>Apellidos <i class="fas fa-sort-down"></i></label>
                                    <input type="text" name="apellidos" id="apellidos" class="form-control" value="{{proveedor.apellidos}}"/>
                                </div>
                                <div class="form-group">
                                    <label>Email <i class="fas fa-sort-down"></i></label>
                                    <input type="text" name="email" id="email" class="form-control" value="{{proveedor.email}}"/>
                                </div>
                                <div class="form-group">
                                    <label>Teléfono <i class="fas fa-sort-down"></i></label>
                                    <input type="text" name="telefono" id="telefono" class="form-control" value="{{proveedor.telefono}}"/>
                                </div>
                                <div class="form-group">
                                    <label>Celular <i class="fas fa-sort-down"></i></label>
                                    <input type="text" name="celular" id="celular" class="form-control" value="{{proveedor.celular}}"/>
                                </div>
                                <div class="form-group">
                                    <label>Descripción <i class="fas fa-sort-down"></i></label>
                                    <textarea name="descripcion" id="descripcion" class="form-control" rows="8">{{proveedor.descripcion}}</textarea>
                                </div>
                                <div class="form-group"> 
                                    <a href="#" id="boton-enviar"  class="btn btn-success"><i class="fas fa-save"></i> Guardar</a>
                                    <a href="#" id="boton-cancelar"  class="btn btn-danger"><i class="fas fa-times"></i> Cancelar</a>
                                </div>
                                <div class="row" style="margin-bottom: 7px;">
                                    <div class="col-xs-12" style="text-align:left;">
                                        <span class="text-danger"><strong>(*) campo obligatorio</strong></span>
                                    </div>
                                </div>
                            </fieltset>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>    
{% endblock %}
{% block javascripts %}
    {{ parent()}}
    <script>
        $(function () {
            $('#boton-cancelar').click(function (e) {
                e.preventDefault();
                $('#form')[0].reset();
            });

            $('#boton-enviar').click(function (e) {
                e.preventDefault();
                var enviar = true;

                var codigo = $('#codigo').val();
                var empresa = $('#empresa').val();

                var error_codigo = $('#error_codigo');
                var error_empresa = $('#error_empresa');

                if (codigo == "") {
                    enviar = false;
                    error_codigo.removeClass('hidden');
                } else {
                    error_codigo.addClass('hidden');
                }

                if (empresa == "") {
                    enviar = false;
                    error_empresa.removeClass('hidden');
                } else {
                    error_empresa.addClass('hidden');
                }

                if (enviar)
                    $('#form').submit();
            });
        });
    </script>
{% endblock %}
